---
layout:     post                     # 使用的布局（不需要改）
title:      Vi基础命令                      # 标题 
subtitle:   编辑器之神                # 副标题
date:       2018-11-14               # 时间
author:     JTX                      # 作者
header-img: img/text/18-11-14.jpeg         # 这篇文章标题背景图片
catalog: true                        # 是否归档
tags:                                # 标签
    - Linux
---

Vi基础
========

### Vi编辑器三大模式

#### 1.命令行模式

1. 输入**vim 文件名**进入后是**命令模式**

2. **vim +n 文件名** 打开文件,并将光标放在第n行首

3. **vim + 文件名** 打开文件,并将光标放在最后一行首

4. **vim 文件名...文件名** 打开多个文件,一次编辑

5. **vim -r 文件名** 恢复上一次意外关闭的文件

>按**esc**之后都会回到**命令模式**

#### 2.插入模式

1. **输入一下字母进入插入模式**

2. *i* 在光标**前**插入

3. *I* 在**行首**插入

4. *a* 在光标**后**插入

5. *A* 在**行末**插入

6. *o* 在**下一行**插入

7. *O* 在**上一行**插入

#### 3.末行模式

1. **按esc进入末行模式**

2. *:w* **保存**

3. *:q* **退出**

4. *:q!* **不保存强制退出**

5. *:wq* **保存退出**

6. *:x* **保存退出**

7. *shift + zz* **保存退出(这个在命令模式执行)**

### 命令行模式下的相关操作

#### 1. 复制命令

> **yy** *复制*光标所在的**一行**
>
> 复制几行的话在把光标放在所在的行敲**数字+yy**：例如：**4yy (去第四行)**

#### 2. 剪切(删除)命令
> **dd** *剪切*(删除)光标所在的**一行**
>
> 剪切（删除）几行的话在把光标放在所在的行敲**数字+yy**：例如：**2dd(删除两行)**
>
> **D** 从当前的光标开始剪切(删除)一直到**行末**
>
> **d0** 从当前的光标开始剪切(删除)一直到**行首**
>
> **x** 删除**当前**光标，每次只**向后删除一个**
>
> **X** 删除**当前**光标，每次只**向前删除一个**
>
> **dw** **向后删除**一个单词
>
> **Dw** **向前删除**一个单词
>

#### 3. 粘贴命令
> **p** *粘贴*
>
> 上面的命令使用完后都可以使用这个命令

#### 4. 撤销命令
> **u** 撤销刚刚的操作
>
> **ctrl + r** 反撤销

#### 5. 浏览和控制文件

> **h** 向**左**走
> 
> **l** 向**右**走
> 
> **j** 向**下**走
> 
> **k** 向**上**走
> 
> **M** 定位当前屏幕的**中间**
> 
> **H** 定位当前屏幕的**上方**
> 
> **L** 定位当前屏幕的**下方**
> 
> **ctrl + f** 向**下翻**一页
> 
> **ctrl + b** 向**上翻**一页
> 
> **ctrl + d** 向**下翻**半页
> 
> **ctrl + u** 向**上翻**半页
>
> **w** **向后**跳一个单词的长度，即跳到下一个单词的开始处
>
> **b** **向前**跳一个单词的长度，即跳到上一个单词的开始处

#### 6. 快速到文件的某一行
   
> **行数G** 快速去**那一行**
>
> **G** 快速去**最后一行**
>
> **gg** 快速去**第一行**

#### 7. 代码块操作

> **v/V** 选中**当前**代码和**当行**代码
>
> 向**右**移动代码 **>>**
>
> 向**左**移动代码 **<<**
>
> 批量移动代码缩进，先用**V选中代码**，再按**shift和<<或者>>**
>
> **.** 重复执行**上一次的命令**
>
> **{** 去**上一片**代码(按代码格式分片)
>
> **}** 去**下一片**代码

#### 8. 修改操作

> **r** 替换光标所在的字符 **(r + 替换的字符)**
>
> **R** 替换光标以及后面所有的字符 **(R + 输入字符)**
>
> **gg=G** 快速**格式化**全文代码(不需要去末行模式，**直接输入**就可以)
>
> **行数gg=行数G** 格式化**固定行数**代码 *(例如：10gg=16G 格式化10到16行代码)*

### 末行模式下相关操作

#### 1. 内容修改

1. **:%s/原内容/替换的内容/g替换整篇内容**,替换**全篇**内容：

    > *例如：:%s/aa/bb/g (替换全篇文章aa位bb)*

2. **:行数,行数s/原内容/替换的内容/g**替换**固定行数**的内容：

    > *例如：:10,15s/aa/bb/g (替换第10行到第15行的aa为bb)*

3. **批量注释代码块(python注释)**

    > 进入命令行模式,**V选中代码块**,直接按**shift + :**,输入**normal i #**